{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        Orders
        <a href="{{ url_for('create_order') }}" class="btn" style="float: right;">+ Create Order</a>
    </div>
    
    {% if orders %}
    <table class="table">
        <tr>
            <th>ID</th>
            <th>Customer</th>
            <th>Status</th>
            <th>Amount</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
        {% for order in orders %}
        <tr>
            <td><a href="{{ url_for('view_order', order_id=order.id) }}">#{{ order.id }}</a></td>
            <td>{{ order.customer_name or 'Walk-in' }}</td>
            <td>{{ order.status|capitalize }}</td>
            <td>${{ "%.2f"|format(order.total_amount) }}</td>
            <td>{{ order.order_date }}</td>
            <td>
                <a href="{{ url_for('view_order', order_id=order.id) }}" class="btn" style="padding: 0.25rem 0.5rem;">View</a>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>No orders found. <a href="{{ url_for('create_order') }}">Create your first order</a></p>
    {% endif %}
</div>
{% endblock %}
